({Enumerable:Enumerable,EqualityComparer:EqualityComparer}=function(){function t(t){e(t),this._src=t,this._canSeek=!1}function e(t){if(!t||!t[Symbol.iterator])throw new Error("the argument must be iterable!")}function n(t){if(!t||"function"!=typeof t)throw new Error("the argument needs to be a function!")}function r(t){return"number"==typeof t?t:Number.NaN}function o(t){return Array.isArray(t)?t:Array.from(t)}function i(t){t._tryGetAt||(this._canSeek=!0,"string"!=typeof t._src?Array.isArray(t._src)?t._tryGetAt=e=>e>=0&&e<t._src.length?{value:t._src[e]}:null:"number"!=typeof t._src.length?(this._canSeek=!1,t._tryGetAt=e=>{let n=0;for(const r of t._src){if(e===n)return{value:r};n++}return null}):t._tryGetAt=e=>e<t._src.length&&void 0!==t._src[e]?{value:t._src[e]}:null:t._tryGetAt=e=>e<t._src.length?{value:t._src.charAt(e)}:null)}t.empty=function(){return new t([])},t.range=function(e,n){return new t(function*(){for(let t=0;t<n;t++)yield e+t}())},t.repeat=function(e,n){return new t(function*(){for(let t=0;t<n;t++)yield e}())},t.from=function(e){return e instanceof t?e:new t(e)},t.prototype={[Symbol.iterator](){return this._src[Symbol.iterator].bind(this._src)()},aggregate(t,e){n(e);for(const n of this)t=e(t,n);return t},all(t){return n(t),!this.any(e=>!t(e))},any(t){n(t);for(const e of this)if(t(e))return!0;return!1},append(t){return this.concat([t])},average(){return this.sum()/this.count()},asEnumerable(){throw new Error("asEnumerable not implemented for Javascript")},cast(){throw new Error("cast not implemented for Javascript")},concat(n){return e(n),new t(function*(){for(const t of this)yield t;for(const t of n)yield t}.bind(this)())},contains(t,e=s.default){return n(e),this.any(n=>e(n,t))},count(){return function(t){if(t._count)return;if("number"==typeof t._src.length)return void(t._count=()=>t._src.length);if("number"==typeof t._src.size)return void(t._count=()=>t._src.size);t._count=()=>{let e=0;for(const n of t._src)e++;return e}}(this),this._count()},defaultIfEmpty(){throw new Error("defaultIfEmpty not implemented for Javascript")},distinct(){const e=new Set;return new t(function*(){for(const t of this){const n=e.size;e.add(t),n<e.size&&(yield t)}}.bind(this)())},elementAt(t){i(this);const e=this._tryGetAt(t);if(!e)throw new Error("Index out of range");return e.value},elementAtOrDefault(t){i(this);const e=this._tryGetAt(t);if(e)return e.value},except(n){e(n);const r=new Set(n);return new t(function*(){for(const t of this)r.has(t)||(yield t)}.bind(this)())},first(){return this.elementAt(0)},firstOrDefault(){return this.elementAtOrDefault(0)},groupBy(e){n(e);const r=new Map;for(const t of this){const n=e(t),o=r.get(n);o?o.push(t):r.set(n,[t])}const o=new t(r);for(const t of r)o[t[0]]=t[1];return o.keys=Array.from(r.keys()),o},groupJoin(){throw new Error("groupJoin not implemented for Javascript")},intersect(n){e(n);const r=new Set(n);return new t(function*(){for(const t of this)r.has(t)&&(yield t)}.bind(this)()).distinct()},join(){throw new Error("join is not implemented for Javascript")},last(){if(i(this),!this._canSeek){let t=null,e=!1;for(const n of this)t=n,e=!0;if(e)return t}const t=this.count();return this.elementAt(t-1)},lastOrDefault(){if(i(this),!this._canSeek){let t=void 0;for(const e of this)t=e;return t}const t=this.count();return this.elementAtOrDefault(t-1)},longCount(){return this.count()},max(t){return void 0!==t?n(t):t=(t,e)=>t>e?1:t<e?-1:0,this.aggregate(void 0,(e,n)=>void 0===e||t(n,e)>0?n:e)},min(t){return void 0!==t?n(t):t=(t,e)=>t>e?1:t<e?-1:0,this.aggregate(void 0,(e,n)=>void 0===e||t(n,e)<0?n:e)},ofType(e){const n="string"==typeof e?t=>typeof t===e:t=>t instanceof e;return new t(function*(){for(const t of this)n(t)&&(yield t)}.bind(this)())},orderBy(e){return void 0!==e&&n(e),new t(function*(){const t=o(this._src);e?t.sort((t,n)=>{const r=e(t),o=e(n);return r>o?1:r<o?-1:0}):t.sort();for(const e of t)yield e}.bind(this)())},orderByDescending(t){return this.orderBy(t).reverse()},prepend(e){return new t([e]).concat(this)},reverse(){return i(this),new t((this._canSeek?function*(){for(let t=this.count()-1;t>=0;t--)yield this.elementAt(t)}:function*(){const t=o(this._src);for(let e=t.length-1;e>=0;e--)yield t[e]}).bind(this)())},select(e){return n(e),new t(function*(){for(const t of this)yield e(t)}.bind(this)())},selectMany(r){return void 0!==r?n(r):r=t=>t,new t(function*(){for(const t of this){e(t);for(const e of r(t))yield e}}.bind(this)())},sequenceEqual(t,r=s.default){e(t),n(r);const o=this[Symbol.iterator](),i=t[Symbol.iterator]();let c=!1;do{const t=o.next(),e=i.next();if(!(t.done&&e.done||!t.done&&!e.done&&r(t.value,e.value)))return!1;c=t.done}while(!c);return!0},single(){const t=this[Symbol.iterator]();let e=t.next();if(e.done)throw new Error("Sequence contains no elements");const n=e.value;if(e=t.next(),!e.done)throw new Error("Sequence contains more than one element");return n},singleOrDefault(){const t=this[Symbol.iterator]();let e=t.next();if(e.done)return;const n=e.value;if(e=t.next(),!e.done)throw new Error("Sequence contains more than one element");return n},skip(e){return new t(function*(){for(const t of this)e>0?e--:yield t}.bind(this)())},skipLast(e){return new t(function*(){const t=Array(e);let n=0,r=0;for(const o of this){const i=t[n-r];t[n-r]=o,n++,n-r>=e&&(r+=e),n>e&&(yield i)}t.length=0}.bind(this)())},skipWhile(e){n(e);let r=!0;return new t(function*(){for(const t of this)r&&!e(t)&&(r=!1),r||(yield t)}.bind(this)())},sum(){return this.aggregate(void 0,(t,e)=>void 0===t?r(e):r(t)+r(e))},take(e){return new t(function*(){for(const t of this)if(e>0&&(yield t,e--),e<=0)break}.bind(this)())},takeLast(e){return i(this),new t((this._canSeek?function*(){const t=this.count();for(let n=t-e;n<t;n++)yield this.elementAt(n)}:function*(){let t=0;const n=Array(e);for(const r of this)n[t%e]=r,t++;for(let r=0;r<e&&r<t;r++)yield n[(t+r)%e]}).bind(this)())},takeWhile(e){return n(e),new t(function*(){for(const t of this){if(!e(t))break;yield t}}.bind(this)())},thenBy(t){throw new Error("thenBy not implemented for Javascript")},thenByDescending(t){throw new Error("thenByDescending not implemented for Javascript")},toArray(){return Array.from(this)},toDictionary(){throw new Error("use toMap or toObject instead of toDictionary")},toMap(t,e=(t=>t)){n(t),n(e);const r=new Map;for(const n of this)r.set(t(n),e(n));return r},toObject(t,e=(t=>t)){n(t),n(e);const r={};for(const n of this)r[t(n)]=e(n);return r},toHashSet(){throw new Error("use toSet instead of toHashSet")},toSet(){const t=new Set;for(const e of this)t.add(e);return t},toList(){throw new Error("toList not implemented for Javascript")},toLookup(){throw new Error("toLookup not implemented for Javascript")},union(t){return e(t),this.concat(t).distinct()},where(e){return n(e),new t(function*(){for(const t of this)e(t)&&(yield t)}.bind(this)())},zip(r,o){return e(r),n(o),new t(function*(){const t=this[Symbol.iterator](),e=r[Symbol.iterator]();let n=!1;do{const r=t.next(),i=e.next();n=r.done||i.done,n||(yield o(r.value,i.value))}while(!n)}.bind(this)())}};const s={default:(t,e)=>t==e,exact:(t,e)=>t===e};return{Enumerable:t,EqualityComparer:s}}());